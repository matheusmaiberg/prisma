# Comandos do Diretor PRISMA
# Mapeamento completo de comandos e suas a√ß√µes

versao: 1.0.0
tipo: comandos-diretor
agente: diretor

# Comandos Principais
comandos:
  # Inicializa√ß√£o e Status
  inicializacao:
    iniciar:
      aliases: [init, start, come√ßar]
      descricao: "Inicializa o PRISMA e ativa o Diretor"
      acoes:
        - detectar_contexto
        - carregar_estado
        - mostrar_dashboard
        - aguardar_comando

    status:
      aliases: [estado, info]
      descricao: "Mostra estado completo do sistema"
      acoes:
        - coletar_metricas
        - verificar_agentes
        - mostrar_dashboard_completo

    ajuda:
      aliases: [help, comandos, ?]
      descricao: "Lista todos os comandos dispon√≠veis"
      acoes:
        - listar_comandos_diretor
        - listar_agentes_disponiveis
        - mostrar_exemplos

  # Gest√£o de Projeto
  projeto:
    novo:
      aliases: [new, criar, create]
      parametros: [tipo_projeto]
      descricao: "Inicia novo projeto com workflow apropriado"
      acoes:
        - detectar_tipo_projeto
        - escolher_workflow
        - criar_estrutura_inicial
        - ativar_agentes_necessarios

    analisar:
      aliases: [analyze, analyse, examinar]
      descricao: "An√°lise profunda do projeto atual"
      acoes:
        - escanear_arquivos
        - detectar_tecnologias
        - identificar_padroes
        - gerar_relatorio_analise

    recomendar:
      aliases: [recommend, sugerir, suggest]
      descricao: "Sugere pr√≥ximos passos baseado em contexto"
      acoes:
        - analisar_estado_atual
        - identificar_gaps
        - priorizar_tarefas
        - apresentar_recomendacoes

  # Delega√ß√£o e Execu√ß√£o
  delegacao:
    fazer:
      aliases: [do, executar, execute, realizar]
      parametros: [descricao_tarefa]
      descricao: "Analisa tarefa e delega automaticamente"
      acoes:
        - analisar_complexidade
        - identificar_agentes_necessarios
        - criar_pipeline_execucao
        - monitorar_progresso

    agente:
      aliases: [agent, chamar, call]
      parametros: [tipo_agente, comando_agente]
      descricao: "Delega comando espec√≠fico para agente"
      acoes:
        - validar_agente_existe
        - passar_contexto
        - executar_comando_agente
        - retornar_resultado

    pipeline:
      aliases: [workflow, fluxo, flow]
      parametros: [nome_workflow]
      descricao: "Executa workflow completo"
      acoes:
        - carregar_workflow
        - validar_pre_requisitos
        - executar_sequencia
        - validar_checkpoints

  # Monitoramento
  monitoramento:
    progresso:
      aliases: [progress, andamento]
      descricao: "Mostra estado de todas as tarefas"
      acoes:
        - listar_tarefas_ativas
        - mostrar_percentual_conclusao
        - identificar_bloqueios
        - estimar_tempo_restante

    metricas:
      aliases: [metrics, kpis, indicadores]
      descricao: "Dashboard de m√©tricas do projeto"
      acoes:
        - calcular_velocity
        - medir_qualidade
        - avaliar_satisfacao
        - gerar_graficos

    historico:
      aliases: [history, timeline, log]
      parametros_opcionais: [filtro, periodo]
      descricao: "Timeline de eventos e decis√µes"
      acoes:
        - buscar_eventos
        - filtrar_por_criterio
        - formatar_timeline
        - destacar_decisoes_importantes

  # Controle Avan√ßado
  controle:
    parar:
      aliases: [stop, halt, pausar]
      parametros_opcionais: [tarefa_id]
      descricao: "Para execu√ß√£o de tarefa ou todas"
      acoes:
        - identificar_alvo
        - salvar_checkpoint
        - parar_execucao
        - notificar_agentes

    retomar:
      aliases: [resume, continue, continuar]
      parametros_opcionais: [checkpoint_id]
      descricao: "Retoma execu√ß√£o pausada"
      acoes:
        - carregar_checkpoint
        - restaurar_contexto
        - retomar_pipeline
        - sincronizar_agentes

    reverter:
      aliases: [rollback, undo, desfazer]
      parametros: [ponto_reversao]
      descricao: "Reverte para estado anterior"
      acoes:
        - validar_ponto_existe
        - criar_backup_atual
        - aplicar_reversao
        - notificar_mudancas

  # Aprendizado e Otimiza√ß√£o
  inteligencia:
    aprender:
      aliases: [learn, treinar]
      parametros_opcionais: [tipo_padrao]
      descricao: "Aprende com execu√ß√µes anteriores"
      acoes:
        - analisar_historico
        - identificar_padroes
        - otimizar_processos
        - salvar_aprendizados

    otimizar:
      aliases: [optimize, melhorar]
      parametros_opcionais: [area]
      descricao: "Otimiza workflows e processos"
      acoes:
        - identificar_gargalos
        - sugerir_melhorias
        - implementar_otimizacoes
        - medir_impacto

# Fluxos de Decis√£o
fluxos_decisao:
  escolher_agente:
    entrada: tipo_tarefa
    regras:
      - se: "cont√©m 'requisito' ou 'prd'"
        entao: agente_pm
      - se: "cont√©m 'implementar' ou 'c√≥digo'"
        entao: agente_dev
      - se: "cont√©m 'testar' ou 'qualidade'"
        entao: agente_qa
      - se: "cont√©m 'arquitetura' ou 'design'"
        entao: agente_arquiteto
      - senao: perguntar_usuario

  priorizar_tarefa:
    entrada: lista_tarefas
    criterios:
      - impacto_negocio: peso_40
      - complexidade: peso_20
      - dependencias: peso_25
      - risco: peso_15
    saida: lista_priorizada

# Respostas Padr√£o
respostas:
  inicializacao: |
    üé¨ ALAN DIRETOR PRISMA ATIVADO

    üìä Status do Sistema:
    ‚úÖ Event Store: Online
    ‚úÖ Context Engine: Pronto
    ‚úÖ Agentes: {count} dispon√≠veis

    Como posso ajudar hoje?

  tarefa_recebida: |
    üé¨ Analisando tarefa...

    üìã Complexidade: {nivel}
    üë• Agentes necess√°rios: {agentes}
    ‚è±Ô∏è  Tempo estimado: {tempo}

    Iniciando execu√ß√£o...

  erro_recuperavel: |
    ‚ö†Ô∏è Encontrei um problema: {erro}

    üîÑ Tentando alternativa...
    üí° Sugest√£o: {sugestao}

  sucesso: |
    ‚úÖ Tarefa conclu√≠da com sucesso!

    üìä M√©tricas:
    ‚è±Ô∏è  Tempo: {tempo}
    üë• Agentes usados: {agentes}
    üìà Qualidade: {qualidade}

# Valida√ß√µes
validacoes:
  pre_execucao:
    - contexto_carregado
    - agentes_disponiveis
    - sem_conflitos_recurso

  pos_execucao:
    - resultado_valido
    - metricas_coletadas
    - estado_salvo

# M√©tricas Coletadas
metricas:
  por_comando:
    - tempo_execucao
    - taxa_sucesso
    - agentes_utilizados

  por_sessao:
    - comandos_executados
    - tarefas_completadas
    - erros_recuperados

  por_projeto:
    - velocity
    - qualidade_codigo
    - satisfacao_usuario